# 单元测试环境

**选择题考点**：老师强调，单元测试通常涉及两个辅助模块，考试常考"谁是驱动，谁是桩"。

### 测试环境组件

#### 驱动模块（Driver）

**作用**：模拟**上层**调用模块。

**功能**：
- 接受测试数据
- 传给被测模块
- 打印结果

**场景**：当你做**自底向上**集成时，上面的模块还没写好，需要写个 Driver 来喂数据给下面的模块测。

**记忆方法**：**Driver** 是司机，坐在上面开车（模拟上级）。

#### 桩模块（Stub）

**作用**：模拟被测模块调用的**下层**子模块。

**功能**：
- 代替子模块功能
- 返回模拟数据

**场景**：当你做**自顶向下**集成时，下面的模块还没写好，需要写个 Stub（假函数）来接收上面的调用并返回假数据。

**记忆方法**：**Stub** 是树桩，长在下面不动（模拟下级）。

---

## 集成测试策略（选择/简答题）

**出处**：PPT P69-90，`output_4_15_1.txt`

老师在录音中提到这部分可能会考优缺点对比。

### 1. 非增量式集成（Big Bang）

**特点**：一次性组装所有模块。

**缺点**：
- 出错难定位
- 容易遗漏接口错误

### 2. 增量式集成

#### 自顶向下集成（Top-Down Integration）

**特点**：
- 从顶层模块开始
- 需要**桩模块**（Stub）
- 逐步向下集成

**优点**：
- 早期验证顶层逻辑
- 早期验证主要控制逻辑

**缺点**：
- 需要大量桩模块
- 底层验证被推迟
- 底层错误发现晚

#### 自底向上集成（Bottom-Up Integration）

**特点**：
- 从底层模块开始
- 需要**驱动模块**（Driver）
- 逐步向上集成

**优点**：
- 早期验证底层功能
- 不需要桩模块

**缺点**：
- 需要大量驱动模块
- 顶层缺陷最后才发现
- 顶层错误发现晚

#### 三明治集成（Sandwich Integration）

**特点**：
- 混合策略
- 同时进行自顶向下和自底向上集成
- 在中间层汇合

**优点**：
- 结合两种方法的优点

> **来源文件**：PPT P69-90，`output_4_15_1.txt`

---