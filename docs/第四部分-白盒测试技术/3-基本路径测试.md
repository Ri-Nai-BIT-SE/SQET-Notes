# 基本路径测试（Basis Path Testing - 必考大题）

**大题考点 B - 必考**：这是白盒测试大题最可能考的形式。

**老师强调**：**这是一套死流程，步骤错一步，后面分全没。**

这是老师在录音中反复强调的**核心计算题**。如果考大题，90%概率是让你画图算圈复杂度。

### 核心概念

*   **独立路径 (Independent Path)**：从程序入口到出口，至少包含一条在其他路径中从未有过的边的路径。
*   **基本路径测试 (Basis Path Testing)**：将覆盖路径数压缩到一定限度内（循环体最多执行一次）。
*   **结论**：**独立路径数 = 程序的环路复杂度 V(G)**

### 🛠️ 解题四步曲（必须背下来）

#### **Step 1: 画控制流图 (Control Flow Graph)**

*   **区别**：不要画成"程序流程图"。
    *   **程序流程图**：用方框（处理）和菱形（判断）表示
    *   **控制流图**：用圆圈（节点）和箭头（边）表示

*   **节点 (Node)**：用圆圈表示。一个圆圈可以代表一行或多行**没有分支**的代码。
    *   顺序执行的语句可以合并为一个节点

*   **边 (Edge)**：用箭头表示。代表控制流的方向。

*   **画图技巧（老师强调）**：
    *   **判定节点**（如 `if`）：会有两条发出的边（真/假）。
    *   **汇聚节点**：`if` 语句结束后，分支必须汇聚到一个节点。**这是关键，必须画出来！**
    *   **复合条件**：如果 `if(A OR B)` 或 `if(A AND B)`，在控制流图中必须拆成两个判断节点。
        *   *例子*：`if(A>0 && B>0)` 要拆成：先判 `A>0`，如果是真，再判 `B>0`。

**组成元素**：
- **节点（Node）**：表示语句或语句块
- **边（Edge）**：表示控制流
- **区域（Region）**：由边围成的封闭区域

**特殊节点**：
- **入口节点**：程序入口
- **出口节点**：程序出口
- **判定节点**：包含条件的节点

#### **Step 2: 计算圈复杂度 (Cyclomatic Complexity, V(G))**

**老师强调**：三个公式算出来的结果必须一样，算错这题就完了。

这是最容易拿分也最容易丢分的地方。老师给了**三个公式**，考试时算一遍，互相对照验证：

1.  **公式一（数区域）**：`V(G) = 区域数`。
    *   *注意*：封闭的圈是区域，**图形外部**也要算一个区域！
    *   区域数 = 封闭区域数 + 1（外部区域）

2.  **公式二（数边和点）**：`V(G) = E - N + 2`
    *   E = 边数（Edge）
    *   N = 节点数（Node）

3.  **公式三（数判定）**：`V(G) = P + 1`
    *   P = 判定节点数（Predicate）
    *   *判定节点*：就是那些发出去两条或多条箭头的节点

**考试技巧**：三个公式算一遍，结果一致说明图画对了。如果结果不一致，说明图有错误，必须重新检查。

#### **Step 3: 确定线性无关路径的基本集 (Independent Paths)**

*   **数量**：独立路径的条数 = 圈复杂度 V(G)。
*   **定义**：从程序入口到出口，至少包含一条在其他路径中从未有过的边的路径。
*   **写法**：用节点编号表示，如 `4→14` 或 `4→6→7→14`。

**独立路径数量 = 圈复杂度 V(G)**

**独立路径**：至少包含一条在其他路径中未包含的边的路径。

**基本路径测试**：将覆盖路径数压缩到一定限度内（循环体最多执行一次）。

#### **Step 4: 设计测试用例**

*   针对找出的每一条独立路径，设计一个输入数据和预期输出，使其能走通这条路。
*   确保每条独立路径都有对应的测试用例。

### 示例流程

```
1. 画控制流图
   ↓
2. 计算圈复杂度 V(G)
   ↓
3. 确定独立路径数量（等于 V(G)）
   ↓
4. 列出所有独立路径
   ↓
5. 为每条路径设计测试用例
```

## 考试注意事项

**老师强调的避坑点**：

1. **大题图画对**：如果考基本路径测试，**控制流图**画错了，后面的圈复杂度和路径全错，10分直接扣光。
2. **区分图形**：
    *   程序流程图（方框菱形） vs 控制流图（圆圈箭头）
    *   基本路径法要画**控制流图**，不要画成程序流程图
3. **题型变化**：
    *   以前是主观题（让你写全过程）
    *   这两年倾向于**填空化**（给出现成的图或表，让你填圈复杂度是几，路径是哪几条）
    *   这种题**"只认结果"**，算错一个数就没分

### 覆盖率使用原则

*   **覆盖率只是手段，不是目的**。目的是发现错误。
*   **不要追求绝对的100%覆盖率**。
*   不能只考虑单一的覆盖率指标。

> **来源文件**：PPT P103，`output_4_15_1.txt`，`output_4_15_3.txt`，`Dec_24.txt`（2025年12月24日课堂录音）