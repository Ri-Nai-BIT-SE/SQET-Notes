# 逻辑覆盖（Logic Coverage）

**大题考点 A**：这是白盒测试大题的两种考法之一。给定一段代码，画出**程序流程图**，然后分析各种覆盖。

这部分喜欢考**选择题**（问你最少几个用例能覆盖）或**判断题**（问覆盖强弱关系）。

## 6种覆盖标准（由弱到强）

### 1. 语句覆盖 (Statement Coverage)

*   **定义**：每条可执行语句至少执行一次。
*   **强度**：**最弱**。
*   **缺点**：不能发现逻辑判断错误。
    *   *例子*：如果 `if(A>0)` 写成 `if(A>1)`，当测试数据是2时，两种情况都能通过，但测不出边界错误。

### 2. 判定覆盖 (Decision Coverage / DC)

*   **定义**：每个判断的 **真** 和 **假** 分支至少执行一次。
*   **别名**：分支覆盖 (Branch Coverage)。
*   **缺点**：忽略了判定内部的具体条件（如 `A or B`，只管整体结果，不管A和B各自取值）。

### 3. 条件覆盖 (Condition Coverage / CC)

*   **定义**：判定中的 **每个原子条件** 的真假至少出现一次。
*   **⚠️ 老师强调的坑**：**满足条件覆盖，不一定满足判定覆盖**。
    *   *经典例子*：`if(A>0 && B>0)`
        *   用例1：A=1, B=-1 → 整体判定为False（A>0为True，B>0为False）
        *   用例2：A=-1, B=1 → 整体判定为False（A>0为False，B>0为True）
        *   **结果**：原子条件A、B的真假都测到了，但整个判定结果只有False，没有True，**不满足判定覆盖**！

### 4. 判定/条件覆盖 (Condition/Decision Coverage / C/DC)

*   **定义**：同时满足判定覆盖和条件覆盖。
*   **强度**：比单独的判定覆盖或条件覆盖稍强，但还没覆盖所有组合。

### 5. 条件组合覆盖 (Multiple Condition Coverage)

*   **定义**：判定中所有原子条件的各种真假组合都要出现。
*   **计算**：如果有 n 个条件，需要 **2^n** 种组合。
*   **强度**：除路径覆盖外最强。
*   **缺点**：测试用例数量指数级上升。

### 6. 路径覆盖 (Path Coverage)

*   **定义**：覆盖程序中所有可能的路径。
*   **强度**：**最强**。
*   **局限**：如果循环次数多，路径数是天文数字，**不可能实现100%覆盖**。

## 覆盖强度对比表

| 覆盖类型 | 定义 | 缺点/坑点 |
| :--- | :--- | :--- |
| **1. 语句覆盖** | 每条可执行语句至少执行一次 | **最弱**。不能发现逻辑判断错误 |
| **2. 判定覆盖** | 每个判断的真假分支至少执行一次 | 忽略判定内部的具体条件 |
| **3. 条件覆盖** | 每个原子条件的真假至少出现一次 | **⚠️ 满足条件覆盖，不一定满足判定覆盖** |
| **4. 判定/条件覆盖** | 同时满足判定覆盖和条件覆盖 | 还没覆盖所有组合 |
| **5. 条件组合覆盖** | 所有原子条件的真假组合都要出现 | 测试用例数量指数级上升 (2^n) |
| **6. 路径覆盖** | 覆盖程序中所有可能的路径 | **最强**，但循环多时不可能100%覆盖 |

## 考试题型与例题

**老师提到的例题逻辑：**

考试可能会给一段代码，问：
*   **"要达到条件组合覆盖，最少需要几个测试用例？"**
    *   答案：如果有 n 个条件，需要 2^n 个用例
*   **"设计一组测试用例，使其满足判定覆盖。"**
    *   需要确保每个判断的真假分支都走到

### 考试重点

- 理解各覆盖的区别和强弱关系
- 可能会给出代码或流程图，问达到某种覆盖最少需要几个测试用例
- 判断是否不能达到 100% 覆盖的情况（特别是路径覆盖）
- **⚠️ 陷阱题**：满足条件覆盖，不一定满足判定覆盖

**⚠️ 老师强调的考点：**
*   **"满足条件覆盖，不一定满足判定覆盖"** —— 这是判断题常见陷阱，一定要选"对"。
*   **"路径覆盖是最强的"**。
*   **"如果有循环，路径覆盖通常达不到100%"**。

> **来源文件**：PPT P101-105，`output_4_15_1.txt`，`output_4_15_3.txt`