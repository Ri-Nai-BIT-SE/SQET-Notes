# 典型软件失效事件案例

> **考试重点**：老师强调，以后考试的大题（30分主观题）通常是**一黑（黑盒）、一白（白盒）、一案例**。案例题常出自这里。

## 一、Therac-25 放射治疗仪 (1985-1987)

**后果**：6人治疗过量，3人死亡。

**原因**：
1. **系统安全性分析未包含软件**（只信任硬件连锁，软件去掉了硬件保护）
2. **重用代码问题**：重用了T-20的软件代码，但硬件环境变了（假设和前提改变），未重新测试

**教训**：
- 软件安全性分析的重要性
- 代码重用必须重新测试，特别是当环境或前提改变时

## 二、Ariane 5 (阿里安5号) 火箭爆炸 (1996)

**后果**：发射40秒后爆炸。

**直接原因（技术）**：数据类型转换溢出。将 **64位浮点值** 转换为 **16位有符号整数** 时溢出。

**根本原因（管理/测试）**：
1. 直接重用了Ariane 4的代码
2. Ariane 5的水平速度比Ariane 4快得多，超出了原代码的适用范围
3. **在新的环境下完全没有进行测试**

**必背案例细节**：**Ariane 5** = **浮点转整数溢出** + **代码重用未测试**

**教训**：
- 代码重用必须考虑环境变化
- 新环境下必须进行充分测试
- 回归测试的重要性

## 三、火星探测器 (Mars Climate Orbiter) (1999)

**后果**：坠毁/失联。

**原因**：**度量衡单位不统一**。地面软件使用**英制**（磅力），飞行器软件使用**公制**（牛顿）。

**必背案例细节**：**火星探测器** = **公制与英制单位混用**

**教训**：
- 多团队协作（不同分包商）时的接口测试和标准统一至关重要
- 单位转换和接口规范的重要性

## 四、实际案例（近期/国内）

### 国家金库系统
- **问题**：字符写错导致全国报表错误

### 12306
- **问题**：早期崩溃、扣钱不出票（高并发问题）

### WTT 2025中国大满贯购票系统
- **问题**：
  - 实名认证异常（数据同步延迟）
  - 场馆信息错误（八极场vs二号馆）

### 工商银行App (2025年10月29日)
- **问题**：出现资产显示异常（余额归零或乱码），属于极端的软件故障案例

## 五、考试重点总结

### 案例分析题 (Case Study)

**核心考点**：给你一个失败的场景，问你原因是什么？违反了什么测试原则？

**必背案例细节**：
- **Ariane 5** = **浮点转整数溢出** + **代码重用未测试**
- **火星探测器** = **公制与英制单位混用**
- **Therac-25** = **软件未包含在安全性分析中** + **重用代码前提改变**

### 常见考点

1. **代码重用问题**：
   - 代码重用必须重新测试
   - 环境变化时必须进行回归测试
   - 前提和假设改变时必须重新验证

2. **接口测试**：
   - 多团队协作时的接口规范统一
   - 单位转换和数据类型匹配

3. **安全性分析**：
   - 软件必须包含在安全性分析中
   - 不能仅依赖硬件保护

4. **测试环境**：
   - 新环境下必须进行充分测试
   - 不能假设旧环境下的测试结果适用于新环境

> **来源文件**：课堂笔记（11月19日）

